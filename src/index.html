<!doctype>
<html>
<head>
    <title>graphviz generator</title>
    <style>
    * {
        padding: 0;
        margin: 0;
    }
    html, body {
        height: 100%;
    }
    #input {
        height: 100%;
        width: 30%;
        float: left;
    }
    #output {
        height: 100%;
        width: 70%;
        float: left;
    }
    #input form textarea {
        width: 100%;
        height: 100%;
    }
    </style>
    <script>
        function update(dot) {
            var g = document.getElementById('graphviz')
            g.src = '/api/graphviz?dot=' + encodeURIComponent(dot)
        }
        function init() {
            var dot = document.getElementById('dot')
            update(dot.value)
        }
        window.addEventListener('load', init)
    </script>
</head>
<body>
    <div id="input">
        <form>
            <textarea onkeyup="update(this.value)" id="dot">digraph {
    start -> end
}</textarea>
        </form>
    </div>
    <div id="output">
        <img src="" id="graphviz">
    </div>
</body>
</html>
